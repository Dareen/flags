%rebase('layout', title='Flags', parent_url=app.get_url('index'))

<h1>Application: {{application}}</h1>

{{default}} except if stated otherwise. <br/><br/>


%for flag in flags:
<div title="{{flags[flag]}}"><strong>{{flag}}</strong></div>

<input type="checkbox" name="apply_to_all" value="apply_to_all" {{"checked" if not isinstance(flags[flag], dict) else ""}}>Apply to all</input><br/>

<table border=".5" style="width:100%">
%if isinstance(flags[flag], dict):
%for segment in flags[flag]:
  <tr>
  <td>- Remove segment</td>
    <th>{{segment}} <input type="checkbox" name="apply_to_all" value="apply_to_all" {{"checked" if not isinstance(flags[flag][segment], dict) else ""}}>Apply to all</input><br/></th>
%if isinstance(flags[flag][segment], dict):
%for segment_option in flags[flag][segment]:
    <td><strong>{{segment_option}}</strong>  {{flags[flag][segment][segment_option]}}</td>
%end
%end
    <td>+ Add segment option</td>
  </tr>
%end
%end
  <tr>
    <td>+ Add segment</td>
  </tr>
</table>
%end
