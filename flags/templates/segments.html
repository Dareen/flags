%rebase('layout', title='Flags', parent_url=app.get_url('applications'))

<div id="container">
    <h1 id="page-title"><a href="/" class="home-link"><img src="{{ app.get_url('static', path='images/home-icon.png') }}" /></a>{{application}}</h1>

    <ul id="header-nav">
        <li><a href="{{app.get_url('features', application=application)}}">Features</a></li>
        <li class="selected"><a href="{{app.get_url('segments', application=application)}}">Segments</a></li>
    </ul>

    <div class="spacer">&nbsp;</div>

    <ul id="add-misc">
        <li class="add" id="add-segment">
            <span class="add-form">
                <form method="POST">
                    <input type="text" name="new_segment" class="add-form-input" placeholder="Add a new segment" />
                    <input type="submit" class="submit" />
                </form>
            </span>
        </li>
    </ul>

    %for segment in segments:
        <ul id="segment-list">

            <li id="segment-list-header" title="{{segments[segment]}}">{{segment}}<span class="delete">
                <form><input type="submit" value="" /></form>
            </span></li>

            %options = segments[segment]
            %for option in options:
                <li>{{option}}<span class="delete">
                    <form><input type="submit" value="" /></form>
                </span></li>
            %end

            <li class="add" id="add-segment">
            <span class="add-form">
                <form method="POST" action="{{app.get_url('options', application=application, segment=segment)}}">
                    <input type="text" name="new_option" class="add-form-input add-option" placeholder="+ Add an option" />
                    <input type="submit" class="submit" style="display:none" value="Submit" />
                </form>
            </span>
            </li>
        </ul>
    %end
</div>
